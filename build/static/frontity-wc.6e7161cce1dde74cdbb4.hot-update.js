webpackHotUpdate("frontity-wc",{

/***/ "./packages/frontity-wc-theme/src/index.js":
/*!*************************************************!*\
  !*** ./packages/frontity-wc-theme/src/index.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components */ \"./packages/frontity-wc-theme/src/components/index.js\");\n/* harmony import */ var _handlers_product_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handlers/product-handler */ \"./packages/frontity-wc-theme/src/handlers/product-handler.js\");\nfunction asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err);}_next(undefined);});};}//import { productCategoriesHandler } from './handlers/product-categories-handler';\n//import { shopHandler } from './handlers/shop-handler';\n//import { initHandler } from './handlers/init-handler';\nvar addToCart=(_ref)=>{var{state,actions}=_ref;return(_ref2)=>{var{productId,quantity}=_ref2;state.theme.cart.items.push({productId,quantity});//actions.theme.calculateCartTotal();\nvar products=state.source.product;//console.log(products);\nstate.theme.cart.cartTotal=state.theme.cart.items.reduce((total,product)=>total+parseFloat(products[product.productId].price),0);localStorage.setItem('frontity_wc_cart',JSON.stringify(state.theme.cart));};};var toggleShowCartDetail=(_ref3)=>{var{state}=_ref3;state.theme.showCartDetail=!state.theme.showCartDetail;};var calculateCartTotal=(_ref4)=>{var{state}=_ref4;var products=state.source.product;state.theme.cart.totalValue=state.theme.cart.items.reduce((total,product)=>total+parseFloat(products[product.productId].price),0);};var onTrashCartItem=(_ref5)=>{var{state,actions}=_ref5;return(_ref6)=>{var{productId}=_ref6;//console.log(productId)\nstate.theme.cart.items=state.theme.cart.items.filter(item=>item.productId!==productId);actions.theme.calculateCartTotal();};};var before=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(function*(_ref8){//libraries.source.handlers.push(initHandler);\n//await actions.source.fetch('initHandler')\nvar{libraries,actions}=_ref8;});return function before(_x){return _ref7.apply(this,arguments);};}();var afterCSR=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(function*(_ref10){var{state,actions}=_ref10;if(state.frontity.platform==='client'){if(0===state.theme.cart.items.length){var storedCart=localStorage.getItem('frontity_wc_cart');if(storedCart&&storedCart.length!==0){state.theme.cart=JSON.parse(storedCart);state.theme.cart.items.map(cartItem=>{actions.source.fetch(\"/product/\".concat(cartItem.productId));});};}}});return function afterCSR(_x2){return _ref9.apply(this,arguments);};}();/* harmony default export */ __webpack_exports__[\"default\"] = ({name:'frontity-wc-theme',roots:{theme:_components__WEBPACK_IMPORTED_MODULE_0__[\"default\"]},state:{theme:{cart:[],showCartDetail:false,cartTotal:0}},actions:{theme:{beforeSSR:before,afterCSR:afterCSR,addToCart,calculateCartTotal,onTrashCartItem,toggleShowCartDetail}},libraries:{source:{handlers:[//productCategoriesHandler,\n_handlers_product_handler__WEBPACK_IMPORTED_MODULE_1__[\"productHandler\"]//shopHandler,\n]}}});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWNrYWdlcy9mcm9udGl0eS13Yy10aGVtZS9zcmMvaW5kZXguanM/MjUzYSJdLCJuYW1lcyI6WyJhZGRUb0NhcnQiLCJzdGF0ZSIsImFjdGlvbnMiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsInRoZW1lIiwiY2FydCIsIml0ZW1zIiwicHVzaCIsInByb2R1Y3RzIiwic291cmNlIiwicHJvZHVjdCIsImNhcnRUb3RhbCIsInJlZHVjZSIsInRvdGFsIiwicGFyc2VGbG9hdCIsInByaWNlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b2dnbGVTaG93Q2FydERldGFpbCIsInNob3dDYXJ0RGV0YWlsIiwiY2FsY3VsYXRlQ2FydFRvdGFsIiwidG90YWxWYWx1ZSIsIm9uVHJhc2hDYXJ0SXRlbSIsImZpbHRlciIsIml0ZW0iLCJiZWZvcmUiLCJsaWJyYXJpZXMiLCJhZnRlckNTUiIsImZyb250aXR5IiwicGxhdGZvcm0iLCJsZW5ndGgiLCJzdG9yZWRDYXJ0IiwiZ2V0SXRlbSIsInBhcnNlIiwibWFwIiwiY2FydEl0ZW0iLCJmZXRjaCIsIm5hbWUiLCJyb290cyIsIlRoZW1lIiwiYmVmb3JlU1NSIiwiaGFuZGxlcnMiLCJwcm9kdWN0SGFuZGxlciJdLCJtYXBwaW5ncyI6Ijs7O21rQkFDQTtBQUVBO0FBQ0E7QUFFQSxHQUFNQSxVQUFTLENBQUcsWUFBQyxDQUFFQyxLQUFGLENBQVNDLE9BQVQsQ0FBRCxZQUF3QixTQUE2QixJQUE1QixDQUFFQyxTQUFGLENBQWFDLFFBQWIsQ0FBNEIsT0FDckVILEtBQUssQ0FBQ0ksS0FBTixDQUFZQyxJQUFaLENBQWlCQyxLQUFqQixDQUF1QkMsSUFBdkIsQ0FBNEIsQ0FBRUwsU0FBRixDQUFhQyxRQUFiLENBQTVCLEVBQ0E7QUFDQSxHQUFJSyxTQUFRLENBQUdSLEtBQUssQ0FBQ1MsTUFBTixDQUFhQyxPQUE1QixDQUNBO0FBQ0FWLEtBQUssQ0FBQ0ksS0FBTixD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OENBQWQsQ0FrQmUsZ0VBQ2JVLElBQUksQ0FBRSxtQkFETyxDQUViQyxLQUFLLENBQUUsQ0FDTHBDLEtBQUssQ0FBRXFDLG1EQURGLENBRk0sQ0FLYnpDLEtBQUssQ0FBRSxDQUNMSSxLQUFLLENBQUUsQ0FDTEMsSUFBSSxDQUFFLEVBREQsQ0FFTGdCLGNBQWMsQ0FBRSxLQUZYLENBR0xWLFNBQVMsQ0FBRSxDQUhOLENBREYsQ0FMTSxDQVliVixPQUFPLENBQUUsQ0FDUEcsS0FBSyxDQUFFLENBQ0xzQyxTQUFTLENBQUVmLE1BRE4sQ0FFTEUsUUFBUSxDQUFFQSxRQUZMLENBSUw5QixTQUpLLENBS0x1QixrQkFMSyxDQU1MRSxlQU5LLENBT0xKLG9CQVBLLENBREEsQ0FaSSxDQXVCYlEsU0FBUyxDQUFFLENBQ1RuQixNQUFNLENBQUUsQ0FDTmtDLFFBQVEsQ0FBRSxDQUNSO0FBQ0FDLHdFQUNBO0FBSFEsQ0FESixDQURDLENBdkJFLENBQWYiLCJmaWxlIjoiLi9wYWNrYWdlcy9mcm9udGl0eS13Yy10aGVtZS9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVGhlbWUgZnJvbSAnLi9jb21wb25lbnRzJztcbi8vaW1wb3J0IHsgcHJvZHVjdENhdGVnb3JpZXNIYW5kbGVyIH0gZnJvbSAnLi9oYW5kbGVycy9wcm9kdWN0LWNhdGVnb3JpZXMtaGFuZGxlcic7XG5pbXBvcnQgeyBwcm9kdWN0SGFuZGxlciB9IGZyb20gJy4vaGFuZGxlcnMvcHJvZHVjdC1oYW5kbGVyJztcbi8vaW1wb3J0IHsgc2hvcEhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXJzL3Nob3AtaGFuZGxlcic7XG4vL2ltcG9ydCB7IGluaXRIYW5kbGVyIH0gZnJvbSAnLi9oYW5kbGVycy9pbml0LWhhbmRsZXInO1xuXG5jb25zdCBhZGRUb0NhcnQgPSAoeyBzdGF0ZSwgYWN0aW9ucyB9KSA9PiAoeyBwcm9kdWN0SWQsIHF1YW50aXR5IH0pID0+IHtcbiAgc3RhdGUudGhlbWUuY2FydC5pdGVtcy5wdXNoKHsgcHJvZHVjdElkLCBxdWFudGl0eSB9KTtcbiAgLy9hY3Rpb25zLnRoZW1lLmNhbGN1bGF0ZUNhcnRUb3RhbCgpO1xuICBsZXQgcHJvZHVjdHMgPSBzdGF0ZS5zb3VyY2UucHJvZHVjdDtcbiAgLy9jb25zb2xlLmxvZyhwcm9kdWN0cyk7XG4gIHN0YXRlLnRoZW1lLmNhcnQuY2FydFRvdGFsID0gc3RhdGUudGhlbWUuY2FydC5pdGVtcy5yZWR1Y2UoKHRvdGFsLCBwcm9kdWN0KSA9PlxuICAgIHRvdGFsICsgcGFyc2VGbG9hdChwcm9kdWN0c1twcm9kdWN0LnByb2R1Y3RJZF0ucHJpY2UpLCAwXG4gICk7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgICdmcm9udGl0eV93Y19jYXJ0JyxcbiAgICBKU09OLnN0cmluZ2lmeShzdGF0ZS50aGVtZS5jYXJ0KVxuICApO1xufVxuXG5jb25zdCB0b2dnbGVTaG93Q2FydERldGFpbCA9ICh7IHN0YXRlIH0pID0+IHtcbiAgc3RhdGUudGhlbWUuc2hvd0NhcnREZXRhaWwgPSAhc3RhdGUudGhlbWUuc2hvd0NhcnREZXRhaWw7XG59XG5cbmNvbnN0IGNhbGN1bGF0ZUNhcnRUb3RhbCA9ICh7IHN0YXRlIH0pID0+IHtcbiAgbGV0IHByb2R1Y3RzID0gc3RhdGUuc291cmNlLnByb2R1Y3Q7XG4gIHN0YXRlLnRoZW1lLmNhcnQudG90YWxWYWx1ZSA9IHN0YXRlLnRoZW1lLmNhcnQuaXRlbXMucmVkdWNlKCh0b3RhbCwgcHJvZHVjdCkgPT5cbiAgICB0b3RhbCArIHBhcnNlRmxvYXQocHJvZHVjdHNbcHJvZHVjdC5wcm9kdWN0SWRdLnByaWNlKSwgMFxuICApO1xufVxuXG5jb25zdCBvblRyYXNoQ2FydEl0ZW0gPSAoeyBzdGF0ZSwgYWN0aW9ucyB9KSA9PiAoeyBwcm9kdWN0SWQgfSkgPT4ge1xuICAvL2NvbnNvbGUubG9nKHByb2R1Y3RJZClcbiAgc3RhdGUudGhlbWUuY2FydC5pdGVtcyA9IHN0YXRlLnRoZW1lLmNhcnQuaXRlbXMuZmlsdGVyKFxuICAgIGl0ZW0gPT4gaXRlbS5wcm9kdWN0SWQgIT09IHByb2R1Y3RJZFxuICApO1xuICBhY3Rpb25zLnRoZW1lLmNhbGN1bGF0ZUNhcnRUb3RhbCgpO1xufVxuXG5cbmNvbnN0IGJlZm9yZSA9IGFzeW5jICh7IGxpYnJhcmllcywgYWN0aW9ucyB9KSA9PiB7XG4gIC8vbGlicmFyaWVzLnNvdXJjZS5oYW5kbGVycy5wdXNoKGluaXRIYW5kbGVyKTtcbiAgLy9hd2FpdCBhY3Rpb25zLnNvdXJjZS5mZXRjaCgnaW5pdEhhbmRsZXInKVxufVxuXG5jb25zdCBhZnRlckNTUiA9IGFzeW5jICh7IHN0YXRlLCBhY3Rpb25zIH0pID0+IHtcbiAgaWYgKHN0YXRlLmZyb250aXR5LnBsYXRmb3JtID09PSAnY2xpZW50Jykge1xuICAgIGlmICgwID09PSBzdGF0ZS50aGVtZS5jYXJ0Lml0ZW1zLmxlbmd0aCkge1xuICAgICAgY29uc3Qgc3RvcmVkQ2FydCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFxuICAgICAgICAnZnJvbnRpdHlfd2NfY2FydCdcbiAgICAgICk7XG4gICAgICBpZiAoc3RvcmVkQ2FydCAmJiBzdG9yZWRDYXJ0Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBzdGF0ZS50aGVtZS5jYXJ0ID0gSlNPTi5wYXJzZShzdG9yZWRDYXJ0KTtcbiAgICAgICAgc3RhdGUudGhlbWUuY2FydC5pdGVtcy5tYXAoY2FydEl0ZW0gPT4ge1xuICAgICAgICAgIGFjdGlvbnMuc291cmNlLmZldGNoKFxuICAgICAgICAgICAgYC9wcm9kdWN0LyR7Y2FydEl0ZW0ucHJvZHVjdElkfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ2Zyb250aXR5LXdjLXRoZW1lJyxcbiAgcm9vdHM6IHtcbiAgICB0aGVtZTogVGhlbWVcbiAgfSxcbiAgc3RhdGU6IHtcbiAgICB0aGVtZToge1xuICAgICAgY2FydDogW10sXG4gICAgICBzaG93Q2FydERldGFpbDogZmFsc2UsXG4gICAgICBjYXJ0VG90YWw6IDAsXG4gICAgfVxuICB9LFxuICBhY3Rpb25zOiB7XG4gICAgdGhlbWU6IHtcbiAgICAgIGJlZm9yZVNTUjogYmVmb3JlLFxuICAgICAgYWZ0ZXJDU1I6IGFmdGVyQ1NSLFxuXG4gICAgICBhZGRUb0NhcnQsXG4gICAgICBjYWxjdWxhdGVDYXJ0VG90YWwsXG4gICAgICBvblRyYXNoQ2FydEl0ZW0sXG4gICAgICB0b2dnbGVTaG93Q2FydERldGFpbCxcbiAgICB9XG4gIH0sXG4gIGxpYnJhcmllczoge1xuICAgIHNvdXJjZToge1xuICAgICAgaGFuZGxlcnM6IFtcbiAgICAgICAgLy9wcm9kdWN0Q2F0ZWdvcmllc0hhbmRsZXIsXG4gICAgICAgIHByb2R1Y3RIYW5kbGVyLFxuICAgICAgICAvL3Nob3BIYW5kbGVyLFxuICAgICAgXVxuICAgIH1cbiAgfVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/frontity-wc-theme/src/index.js\n");

/***/ })

})