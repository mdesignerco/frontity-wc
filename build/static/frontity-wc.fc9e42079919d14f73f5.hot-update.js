webpackHotUpdate("frontity-wc",{

/***/ "./packages/frontity-wc-theme/src/index.js":
/*!*************************************************!*\
  !*** ./packages/frontity-wc-theme/src/index.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components */ \"./packages/frontity-wc-theme/src/components/index.js\");\n/* harmony import */ var _handlers_product_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handlers/product-handler */ \"./packages/frontity-wc-theme/src/handlers/product-handler.js\");\nfunction asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err);}_next(undefined);});};}//import { productCategoriesHandler } from './handlers/product-categories-handler';\n//import { shopHandler } from './handlers/shop-handler';\n//import { initHandler } from './handlers/init-handler';\nvar addToCart=(_ref)=>{var{state,actions}=_ref;return(_ref2)=>{var{productId,quantity}=_ref2;state.theme.cart.items.push({productId,quantity});//actions.theme.calculateCartTotal();\nvar products=state.source.product;//console.log(products);\nstate.theme.cart.cartTotal=state.theme.cart.items.reduce((total,product)=>total+parseFloat(products[product.productId].price),0);localStorage.setItem('frontity_wc_cart',JSON.stringify(state.theme.cart));};};var toggleShowCartDetail=(_ref3)=>{var{state}=_ref3;state.theme.showCartDetail=!state.theme.showCartDetail;};var calculateCartTotal=(_ref4)=>{var{state}=_ref4;var products=state.source.product;state.theme.cartTotalValue=state.theme.cart.items.reduce((total,product)=>total+parseFloat(products[product.productId].price),0);};var onTrashCartItem=(_ref5)=>{var{state,actions}=_ref5;return(_ref6)=>{var{productId}=_ref6;//console.log(productId)\nstate.theme.cart.items=state.theme.cart.items.filter(item=>item.productId!==productId);actions.theme.calculateCartTotal();};};var before=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(function*(_ref8){//libraries.source.handlers.push(initHandler);\n//await actions.source.fetch('initHandler')\nvar{libraries,actions}=_ref8;});return function before(_x){return _ref7.apply(this,arguments);};}();var afterCSR=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(function*(_ref10){var{state,actions}=_ref10;if(state.frontity.platform==='client'){if(0===state.theme.cart.items.length){var storedCart=localStorage.getItem('frontity_wc_cart');if(storedCart&&storedCart.length!==0){state.theme.cart=JSON.parse(storedCart);state.theme.cart.items.map(cartItem=>{actions.source.fetch(\"/product/\".concat(cartItem.productId));});};}}});return function afterCSR(_x2){return _ref9.apply(this,arguments);};}();/* harmony default export */ __webpack_exports__[\"default\"] = ({name:'frontity-wc-theme',roots:{theme:_components__WEBPACK_IMPORTED_MODULE_0__[\"default\"]},state:{theme:{cart:[],showCartDetail:false,cartTotal:0}},actions:{theme:{beforeSSR:before,afterCSR:afterCSR,addToCart,calculateCartTotal,onTrashCartItem,toggleShowCartDetail}},libraries:{source:{handlers:[//productCategoriesHandler,\n_handlers_product_handler__WEBPACK_IMPORTED_MODULE_1__[\"productHandler\"]//shopHandler,\n]}}});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWNrYWdlcy9mcm9udGl0eS13Yy10aGVtZS9zcmMvaW5kZXguanM/MjUzYSJdLCJuYW1lcyI6WyJhZGRUb0NhcnQiLCJzdGF0ZSIsImFjdGlvbnMiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsInRoZW1lIiwiY2FydCIsIml0ZW1zIiwicHVzaCIsInByb2R1Y3RzIiwic291cmNlIiwicHJvZHVjdCIsImNhcnRUb3RhbCIsInJlZHVjZSIsInRvdGFsIiwicGFyc2VGbG9hdCIsInByaWNlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b2dnbGVTaG93Q2FydERldGFpbCIsInNob3dDYXJ0RGV0YWlsIiwiY2FsY3VsYXRlQ2FydFRvdGFsIiwiY2FydFRvdGFsVmFsdWUiLCJvblRyYXNoQ2FydEl0ZW0iLCJmaWx0ZXIiLCJpdGVtIiwiYmVmb3JlIiwibGlicmFyaWVzIiwiYWZ0ZXJDU1IiLCJmcm9udGl0eSIsInBsYXRmb3JtIiwibGVuZ3RoIiwic3RvcmVkQ2FydCIsImdldEl0ZW0iLCJwYXJzZSIsIm1hcCIsImNhcnRJdGVtIiwiZmV0Y2giLCJuYW1lIiwicm9vdHMiLCJUaGVtZSIsImJlZm9yZVNTUiIsImhhbmRsZXJzIiwicHJvZHVjdEhhbmRsZXIiXSwibWFwcGluZ3MiOiI7Oztta0JBQ0E7QUFFQTtBQUNBO0FBRUEsR0FBTUEsVUFBUyxDQUFHLFlBQUMsQ0FBRUMsS0FBRixDQUFTQyxPQUFULENBQUQsWUFBd0IsU0FBNkIsSUFBNUIsQ0FBRUMsU0FBRixDQUFhQyxRQUFiLENBQTRCLE9BQ3JFSCxLQUFLLENBQUNJLEtBQU4sQ0FBWUMsSUFBWixDQUFpQkMsS0FBakIsQ0FBdUJDLElBQXZCLENBQTRCLENBQUVMLFNBQUYsQ0FBYUMsUUFBYixDQUE1QixFQUNBO0FBQ0EsR0FBSUssU0FBUSxDQUFHUixLQUFLLENBQUNTLE1BQU4sQ0FBYUMsT0FBNUIsQ0FDQTtBQUNBVixLQUFLLENBQUNJLEtB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QmUsZ0VBQ2JVLElBQUksQ0FBRSxtQkFETyxDQUViQyxLQUFLLENBQUUsQ0FDTHBDLEtBQUssQ0FBRXFDLG1EQURGLENBRk0sQ0FLYnpDLEtBQUssQ0FBRSxDQUNMSSxLQUFLLENBQUUsQ0FDTEMsSUFBSSxDQUFFLEVBREQsQ0FFTGdCLGNBQWMsQ0FBRSxLQUZYLENBR0xWLFNBQVMsQ0FBRSxDQUhOLENBREYsQ0FMTSxDQVliVixPQUFPLENBQUUsQ0FDUEcsS0FBSyxDQUFFLENBQ0xzQyxTQUFTLENBQUVmLE1BRE4sQ0FFTEUsUUFBUSxDQUFFQSxRQUZMLENBSUw5QixTQUpLLENBS0x1QixrQkFMSyxDQU1MRSxlQU5LLENBT0xKLG9CQVBLLENBREEsQ0FaSSxDQXVCYlEsU0FBUyxDQUFFLENBQ1RuQixNQUFNLENBQUUsQ0FDTmtDLFFBQVEsQ0FBRSxDQUNSO0FBQ0FDLHdFQUNBO0FBSFEsQ0FESixDQURDLENBdkJFLENBQWYiLCJmaWxlIjoiLi9wYWNrYWdlcy9mcm9udGl0eS13Yy10aGVtZS9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVGhlbWUgZnJvbSAnLi9jb21wb25lbnRzJztcbi8vaW1wb3J0IHsgcHJvZHVjdENhdGVnb3JpZXNIYW5kbGVyIH0gZnJvbSAnLi9oYW5kbGVycy9wcm9kdWN0LWNhdGVnb3JpZXMtaGFuZGxlcic7XG5pbXBvcnQgeyBwcm9kdWN0SGFuZGxlciB9IGZyb20gJy4vaGFuZGxlcnMvcHJvZHVjdC1oYW5kbGVyJztcbi8vaW1wb3J0IHsgc2hvcEhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXJzL3Nob3AtaGFuZGxlcic7XG4vL2ltcG9ydCB7IGluaXRIYW5kbGVyIH0gZnJvbSAnLi9oYW5kbGVycy9pbml0LWhhbmRsZXInO1xuXG5jb25zdCBhZGRUb0NhcnQgPSAoeyBzdGF0ZSwgYWN0aW9ucyB9KSA9PiAoeyBwcm9kdWN0SWQsIHF1YW50aXR5IH0pID0+IHtcbiAgc3RhdGUudGhlbWUuY2FydC5pdGVtcy5wdXNoKHsgcHJvZHVjdElkLCBxdWFudGl0eSB9KTtcbiAgLy9hY3Rpb25zLnRoZW1lLmNhbGN1bGF0ZUNhcnRUb3RhbCgpO1xuICBsZXQgcHJvZHVjdHMgPSBzdGF0ZS5zb3VyY2UucHJvZHVjdDtcbiAgLy9jb25zb2xlLmxvZyhwcm9kdWN0cyk7XG4gIHN0YXRlLnRoZW1lLmNhcnQuY2FydFRvdGFsID0gc3RhdGUudGhlbWUuY2FydC5pdGVtcy5yZWR1Y2UoKHRvdGFsLCBwcm9kdWN0KSA9PlxuICAgIHRvdGFsICsgcGFyc2VGbG9hdChwcm9kdWN0c1twcm9kdWN0LnByb2R1Y3RJZF0ucHJpY2UpLCAwXG4gICk7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgICdmcm9udGl0eV93Y19jYXJ0JyxcbiAgICBKU09OLnN0cmluZ2lmeShzdGF0ZS50aGVtZS5jYXJ0KVxuICApO1xufVxuXG5jb25zdCB0b2dnbGVTaG93Q2FydERldGFpbCA9ICh7IHN0YXRlIH0pID0+IHtcbiAgc3RhdGUudGhlbWUuc2hvd0NhcnREZXRhaWwgPSAhc3RhdGUudGhlbWUuc2hvd0NhcnREZXRhaWw7XG59XG5cbmNvbnN0IGNhbGN1bGF0ZUNhcnRUb3RhbCA9ICh7IHN0YXRlIH0pID0+IHtcbiAgbGV0IHByb2R1Y3RzID0gc3RhdGUuc291cmNlLnByb2R1Y3Q7XG4gIHN0YXRlLnRoZW1lLmNhcnRUb3RhbFZhbHVlID0gc3RhdGUudGhlbWUuY2FydC5pdGVtcy5yZWR1Y2UoKHRvdGFsLCBwcm9kdWN0KSA9PlxuICAgIHRvdGFsICsgcGFyc2VGbG9hdChwcm9kdWN0c1twcm9kdWN0LnByb2R1Y3RJZF0ucHJpY2UpLCAwXG4gICk7XG59XG5cbmNvbnN0IG9uVHJhc2hDYXJ0SXRlbSA9ICh7IHN0YXRlLCBhY3Rpb25zIH0pID0+ICh7IHByb2R1Y3RJZCB9KSA9PiB7XG4gIC8vY29uc29sZS5sb2cocHJvZHVjdElkKVxuICBzdGF0ZS50aGVtZS5jYXJ0Lml0ZW1zID0gc3RhdGUudGhlbWUuY2FydC5pdGVtcy5maWx0ZXIoXG4gICAgaXRlbSA9PiBpdGVtLnByb2R1Y3RJZCAhPT0gcHJvZHVjdElkXG4gICk7XG4gIGFjdGlvbnMudGhlbWUuY2FsY3VsYXRlQ2FydFRvdGFsKCk7XG59XG5cblxuY29uc3QgYmVmb3JlID0gYXN5bmMgKHsgbGlicmFyaWVzLCBhY3Rpb25zIH0pID0+IHtcbiAgLy9saWJyYXJpZXMuc291cmNlLmhhbmRsZXJzLnB1c2goaW5pdEhhbmRsZXIpO1xuICAvL2F3YWl0IGFjdGlvbnMuc291cmNlLmZldGNoKCdpbml0SGFuZGxlcicpXG59XG5cbmNvbnN0IGFmdGVyQ1NSID0gYXN5bmMgKHsgc3RhdGUsIGFjdGlvbnMgfSkgPT4ge1xuICBpZiAoc3RhdGUuZnJvbnRpdHkucGxhdGZvcm0gPT09ICdjbGllbnQnKSB7XG4gICAgaWYgKDAgPT09IHN0YXRlLnRoZW1lLmNhcnQuaXRlbXMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBzdG9yZWRDYXJ0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXG4gICAgICAgICdmcm9udGl0eV93Y19jYXJ0J1xuICAgICAgKTtcbiAgICAgIGlmIChzdG9yZWRDYXJ0ICYmIHN0b3JlZENhcnQubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIHN0YXRlLnRoZW1lLmNhcnQgPSBKU09OLnBhcnNlKHN0b3JlZENhcnQpO1xuICAgICAgICBzdGF0ZS50aGVtZS5jYXJ0Lml0ZW1zLm1hcChjYXJ0SXRlbSA9PiB7XG4gICAgICAgICAgYWN0aW9ucy5zb3VyY2UuZmV0Y2goXG4gICAgICAgICAgICBgL3Byb2R1Y3QvJHtjYXJ0SXRlbS5wcm9kdWN0SWR9YCxcbiAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnZnJvbnRpdHktd2MtdGhlbWUnLFxuICByb290czoge1xuICAgIHRoZW1lOiBUaGVtZVxuICB9LFxuICBzdGF0ZToge1xuICAgIHRoZW1lOiB7XG4gICAgICBjYXJ0OiBbXSxcbiAgICAgIHNob3dDYXJ0RGV0YWlsOiBmYWxzZSxcbiAgICAgIGNhcnRUb3RhbDogMCxcbiAgICB9XG4gIH0sXG4gIGFjdGlvbnM6IHtcbiAgICB0aGVtZToge1xuICAgICAgYmVmb3JlU1NSOiBiZWZvcmUsXG4gICAgICBhZnRlckNTUjogYWZ0ZXJDU1IsXG5cbiAgICAgIGFkZFRvQ2FydCxcbiAgICAgIGNhbGN1bGF0ZUNhcnRUb3RhbCxcbiAgICAgIG9uVHJhc2hDYXJ0SXRlbSxcbiAgICAgIHRvZ2dsZVNob3dDYXJ0RGV0YWlsLFxuICAgIH1cbiAgfSxcbiAgbGlicmFyaWVzOiB7XG4gICAgc291cmNlOiB7XG4gICAgICBoYW5kbGVyczogW1xuICAgICAgICAvL3Byb2R1Y3RDYXRlZ29yaWVzSGFuZGxlcixcbiAgICAgICAgcHJvZHVjdEhhbmRsZXIsXG4gICAgICAgIC8vc2hvcEhhbmRsZXIsXG4gICAgICBdXG4gICAgfVxuICB9XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/frontity-wc-theme/src/index.js\n");

/***/ })

})